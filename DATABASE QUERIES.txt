DATABASE QUERIES:

* CREATE CUSTOMERS;

* USE CUSTOMERS;

* DROP CUSTOMERS;

* SHOW DATABASES;


CREATING TABLE;

CREATE TRAIL;

USE TRAIL;

* CREATE TBALE CUSTOMERS(
  CUSTOMERID INT,
  CUSTOMERNAME VARCHAR(30),
  CONTACTNAME TINYTEXT,
  ADDRESS TINYTEXT,
  CITY VARCHAR(20),
  POSTALCODE INT, 
  COUNTRY TINYINT
);

* DESC CUSTOMERS;

* ALTER TBALE CUSTOMERS
   MODIFY CUSTOMERNAME VARCHAR(50);

* ALTER TBALE CUSTOMERS
   RENAME COLUMN CUSTOMERNAME TO CUSTOMER_NAME;

* ALTER TBALE CUSTOMERS
   CHANGE COLUMN CUSTOMER_NAME CUSTOMERNAME VARCHAR(30);

*  CREATE TABLE PROIDUCTS(
    PRODUCTID INT, 
    PRODUCTNAME VARCHAR(20),
    ADDRESS TINYINT,
    CITY VARCHAR(20)
  );
 
* DROP TBALE PRODUCTS;



DML(DATA MANUPULATION LANGUAGE):
--------------------------------

*  INSERT INTO CUSTOMERS
    (CUSTOMERID, CUSTOMERNAME, CONTACTNAME, ADDRESS, CITY, POSTALCODE, COUNTRY) 
    VALUES(1, 'YOGI', 'KETHE', 'JNTU ST', 'HYD', 1234, 'INDIA'),
    (2, 'HARI', 'KONDA', 'ANA ST', 'ANANTAPURAM', 2342, 'INDIA'),
    (3, 'DHARAN', 'JACY', 'MUDIGUBBA', 'ANATAPURAM', 2334, 'INDIA'),
    (4, 'LIKHITH', 'LIKKI', 'MAIN ST', 'DELHI', 4234, 'INDIA');

*  SELECT DISTINCT CITY FROM CUSTOMERS;

*  SELECT COUNT( DISTINCT CITY) FORM CUSTOEMRS;
 
*  SELECT FROM CUSTOMERS LIMIT 1;

* INSERT INTO CUSTOMERS
    (CUSTOMERID, CUSTOMERNAME, CONTACTNAME, ADDRESS, CITY, POSTALCODE, COUNTRY) 
    VALUES(1, 'YOGI', 'KETHE', 'JNTU ST', 'HYD', 1234, 'INDIA');

*  DELETE FROM CUSTOMERS WHERE CUSTOEMRID = 1;

* INSERT INTO CUSTOMERS
    (CUSTOMERID, CUSTOMERNAME, CONTACTNAME, ADDRESS, CITY, POSTALCODE, COUNTRY) 
    VALUES(1, 'YOGI', 'KETHE', 'JNTU ST', 'HYD', 1234, 'INDIA');


 ------   LOCK   ---------

*  SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
*  START TRANSACTION;
*  SELECT * FROM CUSTOMERS;
*  UPDATE CUSTOMERS
   SET POSTALCODE = 5032
   WHERE CUSTOEMRID = 2;
*  UPDATE CUSTOEMRS
   SET ADDRESS = 'MAIN ST'
   WHERE CUSTOMERID = 2;
* SELECT * FROM CUSTOEMRS;
* COMMIT;

--------------


  ------- ROLLBACK  -------------

*  START TRANSACTION;

-- ANY UPDATES ON TABLE CUSTOEMRS

*  UPDATE CUSTOMERS
   SET CUSTOMERNAME = 'YOGESHWAR'
   WHERE CUSTOEMRID = 1;

*  UPDATE CUSTOMERS
   SET CONTACTNAME = 'KETHEPALLI'
   WHERE CUSTOEMRID = 1;

*  SELECT * FROM CUSTOEMRS;

*  ROLLBACK;

-- THE OLD DATA IS RETURNED

*  SELECT * FROM CUSTOEMRS;

*  COMMIT;

-----------------------------


 ------------ SAVEPOINT ----------

* START TRANSACTION;

* UPDATE CUSTOMERS
  SET CUSTOMERNAME = 'YOGESHWAR'
  WHERE CUSTOMERID = 1;

* UPDATE CUSTOMERS
  SET CONTACTNAME = 'KETHEPALLI'
  WHERE CUSTOMERID = 1;

* SAVEPOINT FIRST_SAVEPOINT;

* SELECT * FROM CUSTOMERS;

* ROLLBACK TO SAVEPOINT FIRST_SAVEPOINT;

* SELECT * FROM CUSTOMERS;

* COMMIT;

-----------------------------------------

* ROLLBACK;

-- NOW THE SAVEPOINTDATA IS AGIAN ROLLBACKED

* SELECT * FROM CUSTOMERS;

